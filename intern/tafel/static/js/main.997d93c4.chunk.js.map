{"version":3,"sources":["components/Defaults.js","components/Platz.js","components/functions.js","components/DayPicker.js","components/Belegungstag.js","components/BelForm.js","components/BelDetails.js","components/Routing.js","components/App.js","index.js"],"names":["config","hostname","protokoll","loginPage","prod","smartphoneWidth","anzahlPlaetze","platzArray","daypickerMaxDays","daypickerDaysBeforeToday","buchungenlog","dailyStartTime","dailyEndTime","i","push","permissions","NONE","MYDATA_READ","MYDATA_WRITE","MYDATA_UPDATE","ALLDATA_READ","ALLDATA_WRITE","ALLDATA_UPDATE","VORSTAND","PERMISSION_FREE_2","PERMISSION_FREE_3","T_ALL_PERMISSIONS","T_REGISTER","PERMISSION_FREE_5","PERMISSION_FREE_6","PERMISSION_FREE_7","PERMISSION_FREE_8","PERMISSION_FREE_9","PERMISSION_FREE_10","PERMISSION_UPDATE","ADMINISTRATOR","Platz","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleWindowSizeChange","setState","zumBelegungstag","state","courtData","isLoading","error","width","window","innerWidth","nextProps","court","day","fetchPlatz","_this$props","_this2","userIsAdmin","url","Config","addEventListener","fetch","credentials","then","result","ok","json","records","map","r","k","id","cn","s","e","bookingType","dauer","Number","substring","bt","classNames","replace","computeBelClasses","starts_at","ends_at","booking_type","spieler","p1","RegExp","p2","p3","p4","match","react_default","a","createElement","key","className","comment","Link","to","pathname","c","d","removeEventListener","Component","formatDate","month","getMonth","getDate","year","getFullYear","length","join","list","MenuItem","_ref","text","selected","concat","Arrow","_ref2","ArrowLeft","ArrowRight","DayPicker","onSelect","onClickHandler","startswith","end","Date","setDate","start","dt","arr","name","toLocaleDateString","weekday","getDateArray","menu","el","DayPicker_MenuItem","build_default","data","arrowLeft","arrowRight","Belegungstag","dayDate","params","isNaN","setDay","bind","dString","firstDaypickerDay","courtDiv","Belegungstag_Zeitleiste","src","alt","components_Platz","components_DayPicker","react_swipeable_views_lib_default","Belegungstag_Legende","Zeitleiste","zeit","m","toString","padStart","index","Fragment","Legende","BelForm","handleChange","assertThisInitialized","handleSave","handleDelete","_r$starts_at$split","split","_r$starts_at$split2","slicedToArray","sd","st","dateIsToday","deleteActive","_r$ends_at$split","_r$ends_at$split2","ed","et","sdA","doppel","spieltag","startsAtDate","endsAtDate","startsAtStd","startsAtViertel","endsAtStd","endsAtViertel","p1id","p2id","p3id","p4id","zurTafel","fehlerSpielzeit","fehlerSpielzeitTxt","fehlerSpieler","fehlerSpielerTxt","spielzeitClassnames","invalidClassnameSpielzeit","invalidClassnameSpieler","saveActive","admin","Error","catch","_this3","Redirect","onChange","value","placeholder","type","onClick","disabled","_this4","preventDefault","parameters","userId","rid","returncode","logurl","_this5","_this6","target","defineProperty","clearFehler","validateSpielzeit","validateSpieler","_this$state","BelDetails","belegung","op","_this$props$location$","location","updateBel","_this$props$location$2","newBel","components_BelForm","user_id","getEmptyBel","Routing","Switch","Route","exact","path","render","components_BelDetails","assign","components_Belegungstag","App","user","isLoggedIn","renderData","isLoading1","isLoading2","checkUser","setPermission","vorname","nachname","res","retcode","href","components_Routing","ReactDOM","BrowserRouter","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.997d93c4.chunk.js","sourcesContent":["\r\n// ****** Konfigurationsdaten *******\r\nlet config = {\r\n\r\n  hostname: 'localhost',\r\n  protokoll: 'http://',\r\n  loginPage: '/intern/login.php',\r\n  prod: false,\r\n\r\n  // hostname: 'localhost',\r\n  // protokoll: 'http://',\r\n  // loginPage: '/intern/login.php',\r\n  // prod: true,\r\n\r\n  // hostname: 'www.tcolching.de',\r\n  // protokoll: 'https://',\r\n  // loginPage: '/intern/login.php',\r\n  // prod: true,\r\n\r\n  smartphoneWidth: 578,\r\n  anzahlPlaetze: 6,\r\n  platzArray: [],\r\n  daypickerMaxDays: 180,\r\n  daypickerDaysBeforeToday: 3, \r\n  buchungenlog: '/intern/api/buchungenlog.php',\r\n\r\n  dailyStartTime: 8,\r\n  dailyEndTime: 20,\r\n};\r\nfor (let i = 1; i <= config.anzahlPlaetze; i++) {\r\n  config.platzArray.push(i);\r\n}\r\n\r\n// ******* Rechtevergabe **********\r\nexport const permissions = {\r\n  // Es gibt 16 Rechte. Übereinandergelegt\r\n  \r\n  // Recht:        1 2 3 4  5  6  7   8   9  10   11   12   13   14    15    16\r\n  // Dezimalwert:  1 2 4 8 16 32 64 128 256 512 1024 2048 4096 8192 16384 32768 \r\n  //\r\n  // Summen daraus sind kombinierte Rechte, z.B. \r\n  //                3 ist Recht 1 und Recht 2\r\n  //               15 ist Recht 1, 2, 3, 4 (1+2+4+8)\r\n  //              128 ist Recht 8\r\n  //              143 ist Recht 1,2,3,4,8\r\n    NONE : 0,\r\n    MYDATA_READ : 1,\r\n    MYDATA_WRITE : 2,\r\n    MYDATA_UPDATE : 3,          // kombiniert\r\n    ALLDATA_READ : 5,           // kombiniert\r\n    ALLDATA_WRITE : 8,  \r\n    ALLDATA_UPDATE : 15,        // kombiniert\r\n    VORSTAND : 16,\r\n    PERMISSION_FREE_2 : 32,\r\n    PERMISSION_FREE_3 : 64,\r\n    T_ALL_PERMISSIONS : 128,    // Turnierverantwortliche\r\n    T_REGISTER : 256,\r\n    PERMISSION_FREE_5 : 512,\r\n    PERMISSION_FREE_6 : 1024,\r\n    PERMISSION_FREE_7 : 2048,\r\n    PERMISSION_FREE_8 : 4096,\r\n    PERMISSION_FREE_9 : 8192,\r\n    PERMISSION_FREE_10 : 16384,\r\n    PERMISSION_UPDATE : 32768,\r\n    ADMINISTRATOR : 65535,\r\n};\r\n\r\nexport default config;\r\n","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\nimport Config, { permissions } from './Defaults';\r\n\r\n\r\n// Alle Belegungen an diesem Tag für einen Platz\r\n\r\nclass Platz extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = { \r\n      courtData: [],\r\n      isLoading : false,\r\n      error : false,\r\n      width: window.innerWidth,\r\n      zumBelegungstag: false,\r\n    };\r\n  }\r\n  \r\n  componentWillReceiveProps(nextProps) {\r\n    const {court, day} = nextProps;\r\n    this.fetchPlatz(court, day);\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { court, day } = this.props;\r\n    this.fetchPlatz(court, day);\r\n  }\r\n\r\n  fetchPlatz(court, day) {\r\n    const userIsAdmin = (permissions.T_ALL_PERMISSIONS === (permissions.T_ALL_PERMISSIONS & this.props.permissions));\r\n    const url = Config.protokoll + Config.hostname + \"/intern/api/platz.php?op=ra&p=\" + court + \"&ds=\" + day + \"&de=\" + day;\r\n    window.addEventListener('resize', this.handleWindowSizeChange);\r\n    \r\n    this.setState({isLoading : true});\r\n    fetch(url, {credentials: 'same-origin'})\r\n    .then(result => {\r\n      if (result.ok) {\r\n          return result.json();\r\n        } else {\r\n          // In diesem Fall haben wir einen neuen, noch unbebuchten Tag\r\n          this.setState({isLoading : false});\r\n        }\r\n      })\r\n    .then (result => {\r\n      let courtData = result.records.map ( r => {\r\n        let k = r.id;\r\n        let cn = computeBelClasses (r.starts_at, r.ends_at, r.booking_type);\r\n        let spieler = \r\n            r.p1.replace(new RegExp(\"^[\\\\.\\\\s]+\"), \"\") \r\n          + (r.p2 ? ', ' + r.p2.replace(new RegExp(\"^[\\\\.\\\\s]+\"), \"\") : ' ') \r\n          + (r.p3 ? ', ' + r.p3.replace(new RegExp(\"^[\\\\.\\\\s]+\"), \"\") : ' ') \r\n          + (r.p4 ? ', ' + r.p4.replace(new RegExp(\"^[\\\\.\\\\s]+\"), \"\") : ' ');\r\n        if ( !userIsAdmin && (r.booking_type.match(/(ts-training)|(ts-nichtreservierbar)/ig)))\r\n        {\r\n          return ( \r\n            <div key={k} className={cn}>\r\n              <strong>{r.starts_at.substring(11,16)}</strong> {spieler} \r\n              <div> {r.comment} </div>\r\n            </div>\r\n          )\r\n        } else {\r\n          return ( \r\n            <Link key={k} className={cn} to={{ pathname: '/belegungsdetails/update', state: {c: court, i: r.id, d: day} }}>\r\n              <strong>{r.starts_at.substring(11,16)}</strong> {spieler}\r\n              <div> {r.comment} </div>\r\n            </Link>\r\n          )\r\n        }\r\n      })\r\n      this.setState({courtData: courtData});\r\n      this.setState({isLoading : false});\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleWindowSizeChange);\r\n  }\r\n\r\n  handleWindowSizeChange = () => {\r\n    // this.setState({ width: window.innerWidth });\r\n    this.setState({ zumBelegungstag: true });\r\n  };\r\n  \r\n  render() {\r\n    return this.state.courtData;\r\n  }\r\n}\r\n\r\n// CSS-Klassen bilden für die Positionierung und Höhe einer Blegung auf der Tafel\r\nfunction computeBelClasses (s, e, bookingType) {\r\n\r\n  // Dauer berechnen, also z. B. '2019-05-02 16:00:00' - '2019-05-02 14:00:00' = 120\r\n  const dauer = (Number(e.substring(11,13))*60 + Number(e.substring(14,16))) - (Number(s.substring(11,13))*60 + Number(s.substring(14,16)));\r\n  const bt = bookingType \r\n  let cn = classNames(\r\n    'D-' + dauer,\r\n    'ts', \r\n    'T-' + s.substring(11, 16).replace(':', '-'),\r\n    bt,\r\n    );\r\n  return cn;\r\n}\r\n\r\nexport default Platz;\r\n","export function formatDate (d) {\r\n  var month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = '0' + month;\r\n  if (day.length < 2) day = '0' + day;\r\n\r\n  return [year, month, day].join('-');  \r\n}\r\n// ***** date array \r\nexport const getDateArray = function(start, end) {\r\n  let dt = new Date(start),\r\n      arr = [];\r\n  while (dt <= end) {\r\n    arr.push({ name: formatDate(dt), text: dt.toLocaleDateString(\"de-DE\",{ weekday: 'short', month: 'short', day: 'numeric' })});\r\n    dt.setDate(dt.getDate() + 1);\r\n  }\r\n  return arr;\r\n}\r\n\r\nexport function isValidDate(d) {\r\n  return d instanceof Date && !isNaN(d);\r\n}\r\n\r\n\r\n// Auswahl über Mausposition???\r\n// handleClick (e) {\r\n  \r\n//   var offset = $(this).offset();\r\n//   var hoehe = $(this).height(); \r\n//   var relativeX = (e.pageX - offset.left);\r\n//   var relativeY = (e.pageY - offset.top);\r\n//   var halbeStdHoehe = (hoehe - 30)/13;     \r\n//   var std = relativeY/halbeStdHoehe;\r\n//   var minuten = Math.round((std - Math.floor(std))) * 30;\r\n//   std = Math.floor(std) + 7;\r\n\r\n//   alert(\"X: \" + relativeX + \"  Y: \" + relativeY + \" Zeit: \" + std + \":\" + minuten + \" h, Höhe: \" + hoehe);\r\n    \r\n// };\r\n","import React, { Component } from 'react';\r\nimport ScrollMenu from 'react-horizontal-scrolling-menu';\r\nimport {getDateArray} from \"./functions\";\r\nimport Config from './Defaults';\r\n\r\n\r\n// Das ist das Array mit den Tagen\r\nlet list = [];\r\n\r\n// One item component\r\n// selected prop will be passed\r\nconst MenuItem = ({ text, selected }) => {\r\n  return (\r\n    <div className={`dateBtn ${selected ? 'aktiv' : ''}`}>\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n\r\n// All items component\r\n// Important! add unique key\r\nexport const Menu = (list) => list.map(el => {\r\n  const { name, text } = el;\r\n\r\n  return (\r\n    <MenuItem\r\n      text={text}\r\n      key={name}\r\n    />\r\n  );\r\n});\r\n\r\nconst Arrow = ({ text, className }) => {\r\n  return (\r\n    <div\r\n      // className={className}\r\n      className=\"dateBtn arrowPicker\"\r\n    >{text}</div>\r\n  );\r\n};\r\n\r\nconst ArrowLeft = Arrow({ text: '<', className: 'arrow-prev' });\r\nconst ArrowRight = Arrow({ text: '>', className: 'arrow-next' });\r\n\r\nclass DayPicker extends Component {\r\n  state = {\r\n    selected: 0\r\n  };\r\n\r\n  componentWillMount() {\r\n    const {startswith, day} = this.props;\r\n    let end = new Date(day);\r\n    end.setDate(end.getDate() + Config.daypickerMaxDays);\r\n    list = getDateArray(startswith, end);\r\n    this.setState({selected: day});\r\n  }\r\n\r\n  onSelect = key => {\r\n    this.setState({ selected: key }, () => this.props.onClickHandler(key));\r\n  }\r\n  render() {\r\n    const { selected } = this.state;\r\n    // Create menu from items\r\n    const menu = Menu(list, selected);\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <ScrollMenu\r\n          data={menu}\r\n          arrowLeft={ArrowLeft}\r\n          arrowRight={ArrowRight}\r\n          selected={selected}\r\n          onSelect={this.onSelect}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default DayPicker;\r\n  \r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport Platz from \"./Platz\";\r\nimport DayPicker from \"./DayPicker\";\r\nimport \"./tafel.css\";\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport config from './Defaults';\r\nimport {formatDate, isValidDate} from \"./functions\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Layout eines Tages\r\n\r\nclass Belegungstag extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      width: window.innerWidth,\r\n      day: '',\r\n      dayDate: '',\r\n    };\r\n  }    \r\n  componentWillMount() {\r\n    window.addEventListener('resize', this.handleWindowSizeChange);\r\n    let dayDate = this.props.match.params.day;\r\n    if ( ! isValidDate(new Date(dayDate)) ) {\r\n      dayDate = new Date();\r\n    } else {\r\n      dayDate = new Date(dayDate);\r\n    }\r\n    this.setState({ dayDate: dayDate, day: formatDate(dayDate) });\r\n    // let day = \"2019-05-02\";\r\n    this.setDay = this.setDay.bind(this);\r\n  }\r\n\r\n  // make sure to remove the listener\r\n  // when the component is not mounted anymore\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.handleWindowSizeChange);\r\n  }\r\n\r\n  handleWindowSizeChange = () => {\r\n    this.setState({ width: window.innerWidth });\r\n  };\r\n\r\n  setDay(dString) {\r\n    const d = new Date(dString);\r\n    this.setState({dayDate: d, day: formatDate(d)});\r\n  }\r\n    \r\n  render() {\r\n    const { width } = this.state;\r\n    let firstDaypickerDay = new Date();\r\n    firstDaypickerDay.setDate(firstDaypickerDay.getDate() - config.daypickerDaysBeforeToday);\r\n    const isMobile = (width <= config.smartphoneWidth);\r\n    if (isMobile) {\r\n      const courtDiv = config.platzArray.map( (court) => {\r\n        return (<div key={court} id={\"platz\" + court}>\r\n          <table className=\"table\">\r\n            <tbody>\r\n              <tr className=\"platzDim\">\r\n                <td className=\"zeitleisteCol\"><Zeitleiste /></td>\r\n                <td className=\"platz\">\r\n                  <div className=\"platznummer\">\r\n                    <span className=\"platzziffer\">{court}</span> \r\n                    <Link to={{pathname: '/belegungsdetails/new', state: {c: court, d: this.state.day} }}><img  className=\"neuBtn p-1 rounded-circle\" src=\"images/add.png\" alt=\"Neue Belegung\" /></Link> \r\n                  </div>\r\n                  <div>\r\n                    <Platz court={court} day={this.state.day} permissions={this.props.permissions} />\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        )\r\n      })\r\n      return (\r\n        <div>\r\n          <DayPicker startswith={firstDaypickerDay} day={this.state.day} onClickHandler={this.setDay} />\r\n          <SwipeableViews>\r\n            {courtDiv}\r\n          </SwipeableViews>\r\n          <Legende />\r\n        </div>\r\n      )\r\n    } else {\r\n      const courtDiv = config.platzArray.map( (court) => {\r\n        return (<td key={court} id={\"platz\" + court} className=\"platz\">\r\n          <div>\r\n            <div className=\"platznummer\">\r\n              <span className=\"platzziffer rounded-circle\">{court}</span> \r\n              <Link to={{pathname: '/belegungsdetails/new', state: {c: court, d: this.state.day} }}><img  className=\"neuBtn p-1 rounded-circle\" src=\"images/add.png\" alt=\"Neue Belegung\" /></Link> \r\n            </div>\r\n            <div>            \r\n              <Platz court={court} day={this.state.day} permissions={this.props.permissions} />\r\n              </div>\r\n            </div>\r\n          </td>\r\n        )\r\n      })\r\n      return (\r\n        <div>\r\n          <DayPicker startswith={firstDaypickerDay} day={this.state.day} onClickHandler={this.setDay} />\r\n          <table className=\"table\">\r\n            <tbody>\r\n              <tr className=\"platzDim\">\r\n                <td className=\"zeitleisteCol\"><Zeitleiste /> </td>\r\n                {courtDiv}\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <Legende />\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst Zeitleiste = () => {\r\n  let zeit = [];\r\n  for (let s = config.dailyStartTime; s <= config.dailyEndTime; s++) {\r\n    for (let m = 0; m < 60; m=m+60) {\r\n      zeit.push (s.toString().padStart(2, '0') + ':' + m.toString().padStart(2, '0'));\r\n    }\r\n  } \r\n  return (\r\n    <div className=\"zeitleiste\">\r\n      {\r\n        zeit.map((e, index) => \r\n          <React.Fragment key={index}>\r\n            <div className=\"stunde\"><div className=\"stundetext\">{e}</div></div>\r\n            <div className=\"viertelstunde\"></div>\r\n            <div className=\"viertelstunde\"></div>\r\n            <div className=\"viertelstunde\"></div>\r\n          </React.Fragment>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Legende = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      {/* <div className=\"col l-einzeldoppel p-0 m-1 text-center\">Einzel/Doppel</div> */}\r\n      <div className=\"col l-turnier p-0 m-1 text-center\">Turnier</div>\r\n      <div className=\"col l-punktspiele p-0 m-1 text-center\">Punktspiele</div>\r\n      <div className=\"col l-training m-1 text-center\">Training</div>\r\n      <div className=\"col l-nichtreservierbar p-0 m-1 text-center\">Frei verfügbar / Anderes</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Belegungstag;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport Config, { permissions } from './Defaults';\r\nimport { Redirect } from 'react-router';\r\n\r\n\r\nclass BelForm extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    const { r } = props;\r\n    // Daten für Datum, Start und Ende extrahieren\r\n    let [sd, st] = r.starts_at.split(' ');\r\n    const dateIsToday = ((new Date(sd)).getDate() === (new Date()).getDate());\r\n\r\n    // Initialer Wert für neue Buchungen. Wenn Einzel/Doppel erlaubt sind, hier ändern\r\n    // const bookingType = (r.booking_type === '') ? (dateIsToday ? 'ts-einzel' : 'ts-turnier') : r.booking_type;\r\n    const bookingType = (r.booking_type === '') ? 'ts-turnier' : r.booking_type;\r\n    const deleteActive = r.booking_type.match(/(ts-training)|(ts-nichtreservierbar)/ig) ? (permissions.T_ALL_PERMISSIONS === (permissions.T_ALL_PERMISSIONS & this.props.permissions)) : true;\r\n\r\n    // console.log(deleteActive)\r\n\r\n    let [ed, et] = r.ends_at.split(' ');\r\n    let sdA = sd.split('-');\r\n    let doppel = (r.booking_type === \"Doppel\") ? true : false;\r\n    // console.log(\"DATE: \" + sd + \" TIME: \" + st);\r\n    this.state = {\r\n      r: r,\r\n      spieltag: sdA[2] + '.' + sdA[1] + '.' + sdA[0],\r\n      startsAtDate: sd,\r\n      endsAtDate: ed,\r\n      startsAtStd: st.substring(0, 2),\r\n      startsAtViertel: st.substring(3, 5),\r\n      endsAtStd: et.substring(0, 2),\r\n      endsAtViertel: et.substring(3, 5),\r\n      bookingType: bookingType,\r\n      comment: (typeof r.comment === \"undefined\") ? \"\" : r.comment,\r\n      p1: r.p1id,\r\n      p2: r.p2id,\r\n      p3: r.p3id,\r\n      p4: r.p4id,\r\n      spieler: [],\r\n      court: r.court,\r\n      zurTafel: false,\r\n      doppel: doppel,\r\n      fehlerSpielzeit: false,\r\n      fehlerSpielzeitTxt: '',\r\n      fehlerSpieler: false,\r\n      fehlerSpielerTxt: '',\r\n      spielzeitClassnames: 'form-control',\r\n      invalidClassnameSpielzeit: '',\r\n      invalidClassnameSpieler: '',\r\n      saveActive: false,\r\n      deleteActive: deleteActive,\r\n      admin: false,\r\n      dateIsToday: dateIsToday,\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    // Alle Spieler für die Select-Auswahl laden    \r\n    let url = Config.protokoll + Config.hostname + \"/intern/api/spieler.php\";\r\n    this.setState({ isLoading: true });\r\n    fetch(url, { credentials: 'same-origin' })\r\n      .then(result => {\r\n        if (result.ok) {\r\n          // console.log(result);\r\n          return result.json();\r\n        } else {\r\n          throw new Error('Fehler beim Laden der Spielerdaten');\r\n        }\r\n      })\r\n      .then(result => {\r\n        let spieler = result.records;\r\n        // console.log(spieler);\r\n        this.setState({ spieler: spieler })\r\n      })\r\n      .catch(error => this.setState({ error, isLoading: false }));\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    // console.log(\"startsAtStd:\" + this.state.startsAtStd);\r\n    if (this.state.zurTafel === true) {\r\n      return <Redirect to={'/' + this.state.startsAtDate} />\r\n    }\r\n    return (\r\n      <div>\r\n        <h1>Spieltag: {this.state.spieltag}</h1>\r\n        <form className=\"form-inline\">\r\n          <fieldset className=\"fields\">\r\n            <div><strong>Platz</strong></div>\r\n            <div className=\"form-group\">\r\n              <select id=\"court\" className=\"form-control\" onChange={this.handleChange} value={this.state.court}>\r\n                <option value=\"--\">--</option>\r\n                <option value=\"1\">1</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"6\">6</option>\r\n              </select>\r\n            </div>\r\n            <div><strong>Start</strong> <span id=\"startsAtInvalid\" className=\"invalidText\">{this.state.fehlerSpielzeitTxt}</span></div>\r\n            <div className=\"form-group\">\r\n              <select id=\"startsAtStd\" className={this.state.spielzeitClassnames + ' ' + this.state.invalidClassnameSpielzeit} onChange={this.handleChange} value={this.state.startsAtStd}>\r\n                <option value=\"--\">--</option>\r\n                <option value=\"08\">08</option>\r\n                <option value=\"09\">09</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"11\">11</option>\r\n                <option value=\"12\">12</option>\r\n                <option value=\"13\">13</option>\r\n                <option value=\"14\">14</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"16\">16</option>\r\n                <option value=\"17\">17</option>\r\n                <option value=\"18\">18</option>\r\n                <option value=\"19\">19</option>\r\n                <option value=\"20\">20</option>\r\n              </select>\r\n              <select id=\"startsAtViertel\" className={this.state.spielzeitClassnames + ' ' + this.state.invalidClassnameSpielzeit} onChange={this.handleChange} value={this.state.startsAtViertel}>\r\n                <option value=\"--\">--</option>\r\n                <option value=\"00\">00</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"45\">45</option>\r\n              </select>\r\n            </div>\r\n            <div><strong>Ende</strong></div>\r\n            <div className=\"form-group\">\r\n              <select id=\"endsAtStd\" className={this.state.spielzeitClassnames + ' ' + this.state.invalidClassnameSpielzeit} onChange={this.handleChange} value={this.state.endsAtStd}>\r\n                <option value=\"--\">--</option>\r\n                <option value=\"08\">08</option>\r\n                <option value=\"09\">09</option>\r\n                <option value=\"10\">10</option>\r\n                <option value=\"11\">11</option>\r\n                <option value=\"12\">12</option>\r\n                <option value=\"13\">13</option>\r\n                <option value=\"14\">14</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"16\">16</option>\r\n                <option value=\"17\">17</option>\r\n                <option value=\"18\">18</option>\r\n                <option value=\"19\">19</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"21\">21</option>\r\n              </select>\r\n              <select id=\"endsAtViertel\" className={this.state.spielzeitClassnames + ' ' + this.state.invalidClassnameSpielzeit} onChange={this.handleChange} value={this.state.endsAtViertel}>\r\n                <option value=\"--\">--</option>\r\n                <option value=\"00\">00</option>\r\n                <option value=\"15\">15</option>\r\n                <option value=\"30\">30</option>\r\n                <option value=\"45\">45</option>\r\n              </select>\r\n            </div>\r\n            <br />\r\n            <div><strong>Buchungstyp</strong></div>\r\n            <select id=\"bookingType\" className=\"form-control\" onChange={this.handleChange} value={this.state.bookingType}>\r\n              {/* <option disabled={ ! this.state.dateIsToday} value=\"ts-einzel\">Einzel</option>\r\n                <option disabled={ ! this.state.dateIsToday} value=\"ts-doppel\">Doppel</option> */}\r\n              <option value=\"ts-turnier\">Turnier</option>\r\n              <option value=\"ts-punktspiele\">Punktspiele</option>\r\n              <option value=\"ts-training\">Training</option>\r\n              <option value=\"ts-nichtreservierbar\">Nicht reservierbar</option>\r\n            </select>\r\n            <br />\r\n            <div><strong>Spieler</strong> <span id=\"playerInvalid\" className=\"invalidText\">{this.state.fehlerSpielerTxt}</span></div>\r\n            <div className=\"form-row\">\r\n              <select id=\"p1\" className={this.state.spielzeitClassnames + ' ' + this.state.invalidClassnameSpieler} onChange={this.handleChange} value={this.state.p1}>\r\n                <option value=\"none\">- Bitte auswählen -</option>\r\n                {this.state.spieler.map(r => {\r\n                  return (\r\n                    <option key={'p1' + r.id} value={r.id}>{r.spieler}</option>\r\n                  )\r\n                })}\r\n              </select>\r\n              <select id=\"p2\" className=\"form-control\" onChange={this.handleChange} value={this.state.p2}>\r\n                <option value=\"0\">- Bitte auswählen -</option>\r\n                {this.state.spieler.map(r => {\r\n                  return (\r\n                    <option key={'p2' + r.id} value={r.id}>{r.spieler}</option>\r\n                  )\r\n                })}\r\n              </select>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              {(this.state.doppel) ?\r\n                <select id=\"p3\" className=\"form-control\" onChange={this.handleChange} value={this.state.p3}>\r\n                  <option value=\"0\">- Bitte auswählen -</option>\r\n                  {this.state.spieler.map(r => {\r\n                    return (\r\n                      <option key={'p3' + r.id} value={r.id}>{r.spieler}</option>\r\n                    )\r\n                  })}\r\n                </select>\r\n                : ''\r\n              }\r\n              {(this.state.doppel) ?\r\n                <select id=\"p4\" className=\"form-control\" onChange={this.handleChange} value={this.state.p4}>\r\n                  <option value=\"0\">- Bitte auswählen -</option>\r\n                  {this.state.spieler.map(r => {\r\n                    return (\r\n                      <option key={'p4' + r.id} value={r.id}>{r.spieler}</option>\r\n                    )\r\n                  })}\r\n                </select>\r\n                : ''\r\n              }\r\n            </div>\r\n\r\n            <div><strong>Bemerkung</strong></div>\r\n            <div className=\"form-group\">\r\n              <input id=\"comment\" className=\"form-control\" onChange={this.handleChange} value={this.state.comment} placeholder=\"Spielergebnis o. ä.\" />\r\n            </div>\r\n\r\n            <button type=\"submit\" onClick={e => { this.handleSave(e) }} className=\"btn btn-primary m-1\" disabled={!this.state.saveActive}>Speichern</button>\r\n            <button type=\"submit\" onClick={e => { this.handleDelete(e) }} className=\"btn btn-primary m-2\" disabled={!this.state.deleteActive}>Löschen</button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleSave(e) {\r\n    e.preventDefault();\r\n    // console.log(\"SAVE FORM DATA NOW!\");\r\n    let parameters =\r\n      '?op=cu'\r\n      + '&rid=' + this.state.r.id\r\n      + '&ds=' + this.state.startsAtDate + ' ' + this.state.startsAtStd + ':' + this.state.startsAtViertel\r\n      + '&de=' + this.state.endsAtDate + ' ' + this.state.endsAtStd + ':' + this.state.endsAtViertel\r\n      + '&uid=' + this.props.userId\r\n      + '&p1=' + this.state.p1\r\n      + '&p2=' + this.state.p2\r\n      + '&p3=' + this.state.p3\r\n      + '&p4=' + this.state.p4\r\n      + '&c=' + this.state.court\r\n      + '&t=' + this.state.bookingType\r\n      + '&cmt=' + this.state.comment\r\n      + '&pr=0'\r\n      ;\r\n    let url = Config.protokoll + Config.hostname\r\n      + '/intern/api/platz.php'\r\n      + parameters;\r\n    // console.log(url);\r\n    fetch(url, { credentials: 'same-origin' })\r\n      .then(result => {\r\n        if (result.ok) {\r\n          // console.log(result.body);\r\n          return result.json();\r\n        } else {\r\n          throw new Error('Fehler beim Erzeugen/Updaten der Belegung' + this.state.r.id);\r\n        }\r\n      })\r\n      .then(result => {\r\n        let rid = result.records[0].id;\r\n        let rc = result.records[0].returncode;\r\n        if (rc === 'ok') {\r\n          // Logging der Buchung\r\n          let logurl =\r\n            Config.protokoll\r\n            + Config.hostname\r\n            + Config.buchungenlog\r\n            + parameters\r\n            + '&rid=' + rid;\r\n          fetch(logurl, { credentials: 'same-origin' }); // Wenn Logging fehlschlagen sollte, dann verzichten wir eben darauf\r\n          this.setState({ zurTafel: true })\r\n        } else {\r\n          this.setState({ fehlerSpielzeitTxt: '- Spielzeit bereits belegt!', fehlerSpielzeit: true });\r\n          this.setState({ invalidClassnameSpielzeit: 'invalidFeedback' });\r\n        }\r\n      })\r\n    // .catch(error => this.setState({ error, isLoading: false }));\r\n    // e.preventDefault();\r\n  }\r\n  handleDelete(e) {\r\n    e.preventDefault();\r\n    // console.log(\"DELETE ROW NOW!\" + this.state.r.id);\r\n    let parameters =\r\n      '?op=d'\r\n      + '&rid=' + this.state.r.id\r\n      ;\r\n    let url =\r\n      Config.protokoll\r\n      + Config.hostname\r\n      + Config.buchungenlog\r\n      + parameters;\r\n    fetch(url, { credentials: 'same-origin' })\r\n      .then(result => {\r\n        if (result.ok) {\r\n          // Logging der Buchung\r\n          let logurl = Config.protokoll + Config.hostname\r\n            + '/intern/api/buchungenlog.php'\r\n            + parameters\r\n            + '&uid=' + this.props.userId;\r\n          fetch(logurl, { credentials: 'same-origin' });\r\n          this.setState({ zurTafel: true });\r\n        }\r\n      })\r\n    e.preventDefault();\r\n  }\r\n  handleChange(e) {\r\n    e.preventDefault();\r\n    let s = {};\r\n    s = {\r\n      id: e.target.id,\r\n      value: e.target.value,\r\n    };\r\n    if (s.id === \"bookingType\") {\r\n      if (s.value === \"Doppel\") {\r\n        this.setState({ doppel: true, p3: 0, p4: 0 });\r\n      } else {\r\n        this.setState({ doppel: false });\r\n      }\r\n    }\r\n    this.setState({ [s.id]: s.value }, () => {\r\n      if (s.id.match(/(startsAtStd)|(startsAtViertel)|(endsAtStd)|(endsAtViertel)|(court)|(p1)|(p2)|(p3)|(p4)|(bookingType)|(comment)/ig)) {\r\n        this.clearFehler();\r\n        this.validateSpielzeit();\r\n        this.validateSpieler();\r\n        if (this.state.bookingType.match(/(ts-training)|(ts-nichtreservierbar)/ig)) {\r\n          this.setState({ deleteActive: (permissions.T_ALL_PERMISSIONS === (permissions.T_ALL_PERMISSIONS & this.props.permissions)) })\r\n          this.setState({ saveActive: (permissions.T_ALL_PERMISSIONS === (permissions.T_ALL_PERMISSIONS & this.props.permissions)) })\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  clearFehler() {\r\n    this.setState({ fehlerSpielzeitTxt: '', fehlerSpielzeit: false, invalidClassnameSpielzeit: '' });\r\n    this.setState({ fehlerSpielerTxt: '', fehlerSpieler: false, invalidClassnameSpieler: '' });\r\n    this.setState({ saveActive: true });\r\n    this.setState({ deleteActive: true })\r\n  }\r\n\r\n\r\n\r\n  validateSpielzeit() {\r\n    // Ende vor Start?\r\n    const start = this.state.startsAtStd + this.state.startsAtViertel;\r\n    const ende = this.state.endsAtStd + this.state.endsAtViertel;\r\n    // console.log(\"Validate: \" + start + ', ' + ende + ', ' + (start >= ende));\r\n    if (start >= ende) {\r\n      this.setState({ fehlerSpielzeitTxt: '- Der Start muss vor dem Ende liegen!', fehlerSpielzeit: true });\r\n      this.setState({ invalidClassnameSpielzeit: 'invalidFeedback' });\r\n      this.setState({ saveActive: false });\r\n      return;\r\n    }\r\n    // else if ((ende - start) > 200) {  // 200 sind 2 Stunden (z. B. \"1500\" - \"1300\")\r\n    //   this.setState({fehlerSpielzeitTxt: '- Maximal 120 Minuten buchbar!', fehlerSpielzeit: true});\r\n    //   this.setState({invalidClassnameSpielzeit: 'invalidFeedback'});\r\n    //   this.setState({saveActive: false});\r\n    // }\r\n    // console.log(this.state.r.starts_at);\r\n  }\r\n  validateSpieler() {\r\n    const { p1, p2, p3, p4 } = this.state;\r\n    const p = '' + p1 + p2 + p3 + p4;\r\n    if (p === '0000') {\r\n      this.setState({ fehlerSpielerTxt: '- Bitte mindestens einen Spieler eintragen!', fehlerSpieler: true });\r\n      this.setState({ invalidClassnameSpieler: 'invalidFeedback' });\r\n      this.setState({ saveActive: false });\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default BelForm;\r\n","import React, { Component } from 'react';\r\nimport BelForm from './BelForm';\r\nimport { Link } from 'react-router-dom';\r\nimport Config from './Defaults';\r\n\r\nclass BelDetails extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = { \r\n      belegung : [],\r\n      isLoading : false,\r\n      error : false,\r\n    };\r\n  }  \r\n  componentWillMount() {\r\n    const op = this.props.match.params.op;\r\n    if (op === \"update\") {\r\n      const {i, d} = this.props.location.state;\r\n      this.updateBel(i, d);\r\n    } else if (op === \"new\") {\r\n      const {c, d} = this.props.location.state;\r\n      this.newBel(c, d);\r\n    }\r\n  }\r\n  \r\n  updateBel(id, day) {\r\n    const url = Config.protokoll + Config.hostname + \"/intern/api/platz.php?op=r&rid=\" + id;\r\n    // console.log(url);\r\n  \r\n    this.setState({isLoading : true});\r\n    \r\n    fetch(url, {credentials: 'same-origin'})\r\n    .then(result => {\r\n      if (result.ok) {\r\n          return result.json();\r\n        } else {\r\n          throw new Error('Fehler beim Laden der Platzbuchungsdetails');\r\n        }\r\n    })\r\n    .then(result => {\r\n      let belegung = result.records.map( r => {\r\n        return (\r\n          <div key={r.id} className=\"p-2\">\r\n              <Link to={'/' + day}><p className=\"btn btn-secondary\">Zurück</p></Link>\r\n              <BelForm r={r} userId={this.props.userId} permissions={this.props.permissions} />\r\n          </div>\r\n        )\r\n      })\r\n      this.setState({ belegung: belegung })\r\n    })\r\n    .catch(error => this.setState({ error, isLoading: false }));\r\n  }\r\n  \r\n  newBel(court, day)\r\n  {\r\n    let r = getEmptyBel(court, day);\r\n    let belegung = [\r\n        <div key={-1} className=\"p-2 w-50\">\r\n            <Link to={'/' + day}><p className=\"btn btn-secondary\">Zurück</p></Link>\r\n            <BelForm r={r} userId={this.props.userId} permissions={this.props.permissions} />\r\n        </div>\r\n    ];\r\n    this.setState({ belegung: belegung })\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>{this.state.belegung}</div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction getEmptyBel(court, day) {\r\n  return {\r\n    id: 0,\r\n    user_id: 0,\r\n    p1: '',\r\n    p2: '',\r\n    p3: '',\r\n    p4: '',\r\n    court: court,\r\n    starts_at: day + ' 08:00:00',\r\n    ends_at: day + ' 09:00:00',\r\n    booking_type: '',\r\n    p1id: 0,\r\n    p2id: 0,\r\n    p3id: 0,\r\n    p4id: 0,    \r\n  }\r\n}\r\nexport default BelDetails;\r\n  ","import React, { Component } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Belegungstag from './Belegungstag';\r\nimport BelDetails from './BelDetails';\r\n\r\n\r\nclass Routing extends Component {\r\n    render() {\r\n      return (\r\n        <Switch>\r\n          <Route exact path='/belegungsdetails/:op' render={(props) => <BelDetails {...props} userId={this.props.userId} permissions={this.props.permissions} />} />\r\n          {/* <Route exact path='/belegungsdetails/:op' component={BelDetails} /> */}\r\n          <Route path='/:day' render={(props) => <Belegungstag {...props} userId={this.props.userId} permissions={this.props.permissions} />} />\r\n          <Route render={(props) => <Belegungstag {...props} userId={this.props.userId} permissions={this.props.permissions} />} />\r\n        </Switch>\r\n      )\r\n    }\r\n}\r\n\r\n\r\nexport default Routing;\r\n  ","import React, { Component } from 'react';\r\nimport Routing from \"./Routing\";\r\nimport config from \"./Defaults\";\r\n\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = { \r\n      user: {},\r\n      isLoggedIn: false,\r\n      permissions: 0,\r\n      renderData: [],\r\n      isLoading1: false,\r\n      isLoading2: false,\r\n    };\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.setState({ isLoading1: true , isLoading2: true});\r\n    if (config.prod) { \r\n      this.checkUser();\r\n      this.setPermission();\r\n    } else {\r\n      // In der Testumgebung simulierter User\r\n      this.setState({user: {id:211, vorname:'Conny', nachname:'Roloff'} });\r\n      // this.setState({user: {id:212, vorname:'Norbert', nachname:'Maier'} });\r\n      // this.setState({user: {id:220, vorname:'Peter', nachname:'Gallert'} });\r\n    }\r\n  }\r\n\r\n  checkUser() {\r\n    const url = config.protokoll + config.hostname + \"/intern/api/checkuser.php\";\r\n    fetch(url, {credentials: 'same-origin'})\r\n    .then( (res) => {\r\n      if (res.ok) {\r\n        res.json()\r\n        .then( (user) => {\r\n          if (user.retcode === 'OK') {\r\n            this.setState({user: user, isLoading1: false});\r\n          } else {\r\n            window.location.href = config.protokoll + config.hostname + config.loginPage;\r\n          }\r\n        });\r\n      }\r\n    })\r\n  }\r\n  setPermission() {\r\n    const url = config.protokoll + config.hostname + \"/intern/api/checkpermission.php\";\r\n    // console.log(url)\r\n    fetch(url, {credentials: 'same-origin'})\r\n    .then( (res) => {\r\n      if (res.ok) {\r\n        res.json()\r\n        .then( (permissions) => {\r\n          // console.log(permitted.retcode)\r\n          this.setState({permissions: permissions.retcode, isLoading2: false})\r\n        })\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { isLoading1, isLoading2 } = this.state;\r\n    if (config.prod && (isLoading1 || isLoading2)) {\r\n      return <p>Loading...</p>\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col text-left\">\r\n                <img src=\"/images/tcoplain_0,1x.png\" alt=\"TCO -Logo\" />\r\n              </div>\r\n              <div className=\"col\">\r\n                <span className=\"h6 text-center ml-2\"><a href=\"/intern/tafel/\" id=\"appname\">Turnierplaner</a></span> \r\n                <span className=\"text-center ml-2\"><small> ({this.state.user.vorname + ' ' + this.state.user.nachname})</small></span>\r\n              </div>\r\n              <div className=\"col\">\r\n                <div className=\"small align-bottom\"><span className=\"pl-5\"><a href=\"/intern/logout.php\"><img src=\"/images/logout.png\" alt=\"Logout\" /></a></span></div> \r\n              </div>\r\n            </div>\r\n          </div>\r\n              \r\n          <Routing userId = {this.state.user.id} permissions = {this.state.permissions}/>\r\n          <footer className=\"blockquote-footer\">(c) 2019 by Conny Roloff. Dem TC Olching zur kostenlosen Nutzung zur Verfügung gestellt.</footer>\r\n        </React.Fragment>\r\n      )}\r\n    }\r\n  }\r\n\r\n\r\nexport default App;\r\n  ","import 'babel-polyfill'; \r\nimport 'react-app-polyfill/ie11';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render((\r\n  <Router>\r\n    <App />\r\n  </Router>\r\n), document.getElementById('root'));\r\n\r\n// import index from \"./js/index\";"],"sourceRoot":""}